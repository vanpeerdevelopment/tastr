language: java
jdk: oraclejdk8

env:
 - DISPLAY=:99.0

addons:
  postgresql: "9.4"

install: mvn clean install -DskipTests -DskipSql -B -V

before_script:
  - psql -c 'create database tastr;' -U postgres
  - mvn initialize -PdbInit -pl tastr-infrastructure -Dtastr.environment=travis
  - "sh -e /etc/init.d/xvfb start"

script: mvn install -B -V -Dtastr.environment=travis
